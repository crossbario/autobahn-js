///////////////////////////////////////////////////////////////////////////////
//
//  AutobahnJS - http://autobahn.ws, http://wamp.ws
//
//  A JavaScript library for WAMP ("The Web Application Messaging Protocol").
//
//  Copyright (C) 2011-2014 Tavendo GmbH, http://tavendo.com
//
//  Licensed under the MIT License.
//  http://www.opensource.org/licenses/mit-license.php
//
///////////////////////////////////////////////////////////////////////////////


function rand_normal(mean, sd) {
   // Derive a Gaussian from Uniform random variables
   // http://en.wikipedia.org/wiki/Box%E2%80%93Muller_transform
   var x1, x2, rad;
 
   do {
      x1 = 2 * Math.random() - 1;
      x2 = 2 * Math.random() - 1;
      rad = x1 * x1 + x2 * x2;
   } while (rad >= 1 || rad == 0);
 
   var c = Math.sqrt(-2 * Math.log(rad) / rad);
 
   return (mean || 0) + (x1 * c) * (sd || 1);
};

var assert	= function(cond, text){
	if( cond )	return;
	if( assert.useDebugger || AUTOBAHN_DEBUG)	debugger;
	throw new Error(text || "Assertion failed!");
};

exports.rand_normal = rand_normal;
exports.assert = assert;
